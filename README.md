# 리텐션 정책 지원 시스템

상담사를 위한 리텐션 정책 조회 및 혜택 계산 시스템

## 주요 기능

### 📋 전체 정책 보드

#### 1. 버전 관리
- **실시간 버전 표시**: 페이지 상단에 적용 일자(2026-02-24)와 정책 버전(v3.1) 크게 표시
- **최신 정책 확인**: 상담사가 즉시 최신 정책인지 확인 가능

#### 2. 실시간 업데이트 알림
- **이슈 공지 영역**: 월 중 특이 사항을 최상단에 알림 바 형태로 표시
- **긴급/일반 구분**: 색상으로 긴급도 구분 (빨강: 긴급, 파랑: 일반)
- 예시: "20k 요금제 상품권 2만원 증액!"

#### 3. 원본 이미지 뷰어
- **이미지 갤러리**: 업로드한 정책서 원본 이미지 5장을 탭별로 표시
- **크게 확대 보기**: 클릭 시 전체화면 모달로 원본 이미지 확인
- **데이터 대조**: 추출된 테이블과 원본 이미지 대조 가능

#### 4. 카테고리별 필터링
- 번들 재약정 | 단독 TV | 신규/업셀링 | 요금인상 Care
- 각 카테고리별 정책을 색상으로 구분하여 표시

#### 5. 데이터 분리 구조
- **policies.json 기반**: 모든 데이터는 policies.json에서 관리
- **자동 반영**: JSON 파일만 수정하면 테이블 수치와 색상이 자동 업데이트
- **년 단위 약정**: 3년/4년/5년 약정 기준으로 변경

#### 6. 색상 구분
- 🟢 요금유지(최고구간): 녹색 - 현재 요금제 유지 시 최대 혜택
- 🔵 요금상향: 파란색 - 요금제 상향 시 추가 인센티브
- 🟡 중간구간: 노란색 - 조건부 혜택 제공
- 🟠 최저구간: 주황색 - 최소 혜택
- 🔴 단독전환: 빨간색 - 번들 해지 시 혜택 없음

### 🧮 맞춤형 혜택 계산기

#### 1. 고객 정보 입력
- 고객 유형 (번들/단독 TV)
- 인터넷 현재 판가 (20k~10k)
- 약정 기간 (3년/4년/5년)
- 요금제 변경 (유지/상향/하향)

#### 2. 실시간 혜택 계산
- 💳 사은품 (상품권) - 큰 글씨로 강조
- 🎁 IPTV 1년 할인
- 💰 최종 월 판가

#### 3. 방어 멘트 자동 생성
- **동적 금액 삽입**: 계산된 실제 금액이 멘트에 자동 삽입
- **가치 제안형**: 혜택 중심의 설득 멘트
- **요금 절감형**: 비용 절감 효과 강조 멘트
- **색상 강조**: 중요 금액은 굵은 색상으로 표시

#### 4. 요금제 하향 경고
- 하향 선택 시 빨간색 경고 카드
- 포기하게 될 혜택 금액 명시
- 유지 시 받을 수 있는 대안 제시

### 📊 Excel 업로드 기능 (관리자용)

#### 1. 코드 없이 정책 수정
- **엑셀 파일 업로드**: 템플릿 기반 간편 수정
- **자동 변환**: 엑셀 → JSON 자동 변환
- **즉시 적용**: policies.json 교체만으로 시스템 전체 반영

#### 2. 사용 방법
1. 우측 하단 녹색 버튼 클릭 (📊 아이콘)
2. "엑셀 템플릿 다운로드" 클릭
3. 템플릿 파일에서 수치 수정
4. 수정된 파일 업로드
5. 자동 다운로드되는 policies.json을 src/data/ 폴더에 복사
6. 페이지 새로고침

#### 3. 템플릿 구조
```
| 항목 | 값 |
|------|-----|
| 버전 | v3.1 |
| 주차 | 2월 4주차 |

| 카테고리 | 판가 | 액션 | 3년 | 4년 | 5년 |
|----------|------|------|-----|-----|-----|
| 번들 | 20k | maintain | 10 | 11 | 13 |
| 번들 | 20k | upgrade | 12 | 14 | 18 |
```

## 시작하기

### 의존성 설치
```bash
npm install
```

### 개발 서버 실행
```bash
npm start
```

브라우저에서 [http://localhost:3000](http://localhost:3000)을 열어 확인하세요.

### 프로덕션 빌드
```bash
npm run build
```

## 기술 스택
- React 18
- Tailwind CSS 3
- xlsx (엑셀 처리)
- Create React App

## 파일 구조
```
retention/
├── public/
│   ├── index.html
│   └── assets/                    # 원본 이미지 파일
├── src/
│   ├── components/
│   │   ├── PolicyBoard.js         # 전체 정책 보드
│   │   ├── BenefitCalculator.js   # 혜택 계산기
│   │   └── ExcelUploader.js       # 엑셀 업로드
│   ├── data/
│   │   └── policies.json          # 정책 데이터 (핵심!)
│   ├── App.js
│   ├── index.js
│   └── index.css
├── package.json
└── tailwind.config.js
```

## 정책 업데이트 방법

### 방법 1: JSON 직접 수정 (개발자)
`src/data/policies.json` 파일을 직접 수정

### 방법 2: Excel 업로드 (관리자)
1. 시스템 내 Excel 업로드 기능 사용
2. 템플릿 다운로드
3. 수정 후 업로드
4. 생성된 JSON 파일을 src/data/에 복사

## 주요 변경 사항 (v3.1)

### ✅ 완료된 기능
1. ✅ 버전 관리 UI (상단 배너)
2. ✅ 실시간 업데이트 알림 (공지사항)
3. ✅ 원본 이미지 뷰어 (5장)
4. ✅ 데이터 분리 구조 (policies.json)
5. ✅ 약정 기간 변경 (개월 → 년)
6. ✅ 5개 구간 색상 구분
7. ✅ Excel 업로드 기능
8. ✅ 동적 금액 삽입 (방어 멘트)
9. ✅ 요금인상 Care 탭 추가

### 📊 데이터 구조
- 3년/4년/5년 약정 기준
- 판가: 20k, 18k, 16k, 14k, 12k, 10k
- 액션: maintain(유지), upgrade(상향), downgrade(하향)
- 추가: IPTV 할인, 요금인상 Care 정책

## 주의사항
⚠️ **실제 위약금은 반드시 전산 조회가 필요합니다**

모든 금액은 만원 단위이며, 실제 적용 시에는 시스템 확인이 필요합니다.

## 문의
정책 업데이트 또는 시스템 관련 문의사항이 있으시면 관리자에게 연락주세요.
